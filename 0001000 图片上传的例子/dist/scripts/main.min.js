"use strict";console.log("app.js");
"use strict";var dropUpload=document.querySelector("#drop-upload"),dropPreview=document.querySelector("#drop-preview");dropUpload.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),console.log(event,"event",this.files," e.dataTransfer.files",e.dataTransfer.files);var r=this.files||e.dataTransfer.files;if(0==r.length)return alert("非拖动文件到页面"),!1;if(-1===r[0].type.indexOf("image"))return alert("托的不是图片"),!1;var t=window.webkitURL.createObjectURL(r[0]),a=r[0].name,o=Math.floor(r[0].size/1024);if(500<o)return alert("上传大小不能超过500k"),!1;dropPreview.append(t,"标题",a," 大小："+o);var n=document.createElement("img");n.src=t,dropPreview.appendChild(n)},!1),dropUpload.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),dropUpload.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()});
"use strict";var fromDropUpload=document.querySelector("#from-drop-upload"),fromDropPreview=document.querySelector("#from-drop-preview");function formPreview(e){if(e.length){fromDropPreview.innerHTML="";var r=document.createElement("ul");fromDropPreview.appendChild(r);for(var o=0;o<e.length;o++){var n=document.createElement("li");r.appendChild(n);var t=document.createElement("img");t.src=window.URL.createObjectURL(e[o]),t.height=60,t.onload=function(){window.URL.revokeObjectURL(this.src)},n.appendChild(t);var i=document.createElement("span");i.innerHTML=e[o].name+": "+Math.round(e[o].size/1024)+" k",n.appendChild(i)}}else fromDropPreview.innerHTML="<p>No files selected!</p>"}
"use strict";var jqueryDropUpload=$("#jquery-drop-upload"),jqueryDropPreview=$("#jquery-drop-preview");
"use strict";document.addEventListener("paste",function(e){var t=e.clipboardData.items,a=null;if(0<t.length&&"file"==t[0].kind&&("image/jpeg"==(a=t[0].getAsFile()).type||"image/png"==a.type)){var n=new FileReader;n.readAsDataURL(a),n.addEventListener("load",function(e){var t=document.createElement("img");t.src=e.target.result,document.body.appendChild(t)})}});