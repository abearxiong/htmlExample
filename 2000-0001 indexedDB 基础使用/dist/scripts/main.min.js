"use strict";var request;console.log("app.js"),window.indexedDB||window.alert("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available."),(request=window.indexedDB.open("MyTestDatabase")).onupgradeneeded=function(e){},request.onsuccess=function(e){},request.onerror=function(e){},(request=window.indexedDB.open("test",1)).onupgradeneeded=function(e){e.target.result.createObjectStore("table1",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!1})},request.onerror=function(e){alert("Why didn't you allow my web app to use IndexedDB?!")},(request=window.indexedDB.open("test",1)).onsuccess=function(e){var n=e.target.result.transaction(["table1"],"readwrite").objectStore("table1");n.index("name");n.add({name:"a",age:30,x:"n"}),n.add({name:"b",age:40}),n.delete(4).onsuccess=function(e){console.log("删除数据")}},(request=window.indexedDB.open("test",1)).onsuccess=function(e){var n=e.target.result.transaction(["table1"],"readwrite").objectStore("table1").get(1);n.onsuccess=function(e){console.log("查找数据"),console.log(n.result)},n.onerror=function(e){}},(request=window.indexedDB.open("test",1)).onsuccess=function(e){var n=e.target.result.transaction(["table1"],"readwrite").objectStore("table1").openCursor();n.onsuccess=function(e){var n=e.target.result;n&&(console.log("游标获取",Object.assign(n.value)),n.continue())},n.onerror=function(e){}};