<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta charset="utf-8" />
    <!-- Begin styles  -->
    <link rel="stylesheet" href="./styles/main.min.css" type="text/css" />
    <!-- End styles  -->
    <!-- inject:css -->
    <!-- endinject -->
    <title>例子</title>
    <style>
    .directory {
      display: none;
    }
    .active {
      display: block;
    }
    </style>

  </head>
  <body>
    <div id="develop">
      <div id="list-tree">
        <div class='list-tree-item'>
          <a class='toggle-name'>名字1</a>
          <ul class='directory active'>
            <li>文件1</li>
            <li>文件2</li>
          </ul>
        </div>
      </div>
      </div>
    <!-- Begin scripts -->
    <script src="./scripts/main.min.js" charset="utf-8"></script>
    <!-- End Scripts -->
    <!-- inject:js -->
    <!-- endinject -->
    <script>
     let lists = [
       {name:'javascript', names: ['app.js', 'main.js', 'index.js']},
       {name: 'html', names: ['index.html', 'home.html']}
     ] 
     lists.map(n => {
       let head = `<div class='list-tree-item'><a class="toggle-name">${n.name}</a><ul class="directory">`
       let body = n.names.map(item=>`<li>${item}</li>`).join("");
       let content = head + body + '</ul></div>'
       document.querySelector('#list-tree').innerHTML += content;
     })
     let listTreeItem = document.querySelectorAll('.toggle-name')
     listTreeItem.forEach(item=>{
       item.onclick =( e ) => {
         let nextElement =e.target.nextElementSibling
         console.log(e, e.target)
         console.log("兄弟节点", e.target.childNodes, e.target.nextElementSibling)
         nextElement.classList.toggle("active")
       }
       return ''
     })
    </script>
  </body>
</html>
